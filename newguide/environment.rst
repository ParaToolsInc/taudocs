Environment Variables
=====================

+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| VARIABLE NAME                      | DESCRIPTION                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
+====================================+====================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| TAU\_PROFILE                       | Set to 1 to have TAU profile your code                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_TRACE                         | Set to 1 to have TAU trace your code                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_METRICS                       | Colon delimited list of TAU/PAPI metrics to profile                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PAPI\_EVENT                        | Sets the hardware counter to use when TAU is configured with -PAPI. See ?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PCL\_EVENT                         | Sets the hardware counter to use when TAU is configured with -PCL. See ?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PROFILEDIR                         | Selectively measure groups of routines and statements. Use with -profile command line option. See ?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_CALLPATH                      | When set to 1 TAU will generate call-path data. Use with TAU\_CALLPATH\_DEPTH.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_CALLPATH\_DEPTH               | Sets the depth of the callpath profiling. Use with TAU\_CALLPATH environment variable.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_TRACK\_MESSAGE                | Track MPI message statistics (profiling), messages lines (tracing).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_COMM\_MATRIX                  | Generate MPI communication matrix data.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_COMPENSATE                    | Attempt to compensate for profiling overhead in profiles.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_COMPENSATE\_ITERATIONS        | Set the number of iterations TAU uses to estimate the measurement overhead. A larger number of iteration will increases profiling precision (default 1000).                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_KEEP\_TRACEFILES              | Retains the intermediate trace files. Use with -TRACE TAU configuration option. See ?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_MUSE\_PACKAGE                 | Sets the MAGNET/MUSE package name. Use with the -muse TAU configuration option. See ?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_THROTTLE                      | Enables the runtime throttling of events that are lightweight. See ?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_THROTTLE\_NUMCALLS            | Set the maximum number of calls that will be profiled for any function when TAU\_THROTTLE is enabled. See ?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_THROTTLE\_PERCALL             | Set the minimum inclusive time (in milliseconds) a function has to have to be instrumented when TAU\_THROTTLE is enabled. See ?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_TRACEFILE                     | Specifies the name of Vampir trace file. Use with -TRACE TAU configuration option. See ?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TRACEDIR                           | Specifies the directory where trace file are to be stored. See ?                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_VERBOSE                       | When set TAU will print out information about the its configuration when running a instrumented application.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_PROFILE\_FORMAT               | When set to ``snapshot`` TAU will generate condensed snapshot profiles (they merge together different metrics so there is only one file per node.) Instead of the default kind. When set to ``merged``, TAU will pre-compute mean and std. dev. at the end of execution.                                                                                                                                                                                                                                                                                                                                                           |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_TRACK\_MEMORY\_FOOTPRINT      | When set TAU will track resident set size (VmRSS) and peak memory usage (VmHWM) or the high water mark of resident set size, the same values provided by the 'top' command.                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_TRACK\_POWER                  | Enables tracking of power consumption via periodic interrupt.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_SYNCHRONIZE\_CLOCKS           | When set TAU will correct for any time discrepancies between nodes because of their CPU clock lag. This should produce more reliable trace data.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_SAMPLING                      | Default value is 0 (off). When TAU\_SAMPLING is set, we collect additional profile or trace information (depending on whether TAU\_PROFILE or TAU\_TRACE is set respectively) via periodic sampling at runtime. Metrics collected and sampling period is controlled by TAU\_EBS\_SOURCE and TAU\_EBS\_PERIOD variables respectively. The TAU\_EBS\_UNWIND variable determines if callstack unwinding is enabled at each sample.                                                                                                                                                                                                    |
|                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|                                    | For TAU\_PROFILE, in addition to regular TAU instrumented profile output, samples will show up as additional events prefixed by [SAMPLE] for each unique function, file and source line number combination. These events are grouped under [INTERMEDIATE] event nodes for the instrumented TAU context where the samples occured. In addition, if TAU\_EBS\_UNWIND is active, [UNWIND] event nodes may be generated for each discovered callstack entry found by the callstack unwinder.                                                                                                                                           |
|                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|                                    | TAU\_SAMPLING is dependent on the availability of BFD as determined by the -bfd configuration option when building TAU. Its ability to resolve sample addresses into function, file name and source line number information may be limited or missing if BFD is missing or is installed with limited functionality. If in doubt, please try building TAU with "-bfd=download". Any one of function, file name and source line number may be missing. In the event all three are, the event is marked as "UNRESOLVED". The TAU\_EBS\_KEEP\_UNRESOLVED\_ADDR variable enables addresses to be retained for unresolved results.       |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_EBS\_SOURCE                   | Default value is "itimer". This variable sets the metric that determines the period of sampling. If the value is "itimer" (default), it represents the number of microseconds between samples (as determined by TAU\_EBS\_PERIOD). If the value is a PAPI metric (eg. PAPI\_FP\_INS), then it represents the number of counts of that metric between samples (eg. every 10,000 floating-point instructions if PAPI\_FP\_INS is used). For "itimer", the samples occur as a result of system timer interrupts while for PAPI they occur in response to PAPI counter overflow interrupts set to the value of the TAU\_EBS\_PERIOD.   |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_EBS\_PERIOD                   | Default value is 1,000. This variable sets the period between samples. The semantics of this value is discussed in the section above on TAU\_EBS\_SOURCE.                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_EBS\_UNWIND                   | Default value is 0 (off). This enables callstack unwinding for each sample using the callstack unwinder specified at TAU configuration time. As of this writing, only the libunwind tool is supported. Support for other callstack unwinders like StackwalkerAPI will be included. The TAU\_EBS\_UNWIND\_DEPTH variable is used to control how many times the TAU sampling framework will be allowed to unwind the callstack.                                                                                                                                                                                                      |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_EBS\_UNWIND\_DEPTH            | Default value is 10. This controls how many layers of the callstack TAU should unwind before attaching the result to the appropriate TAU event context.                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_EBS\_KEEP\_UNRESOLVED\_ADDR   | Default value is 0 (off). When set, this variable allows sample addresses that fail to be resolved by BFD to be recorded as "UNRESOLVED <modulename> ADDR <addr> instead of "UNRESOLVED <modulename>". This provides nominally more information than the default scenario in light of missing BFD information.                                                                                                                                                                                                                                                                                                                     |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_TRACK\_SIGNALS                | Set this variables to 1 to capture callstack as metadata at point of failure.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_SUMMARY                       | Set this variables to 1 to generate just min/max/stddev/mean statistics instead of per-node data. Use paraprof -dumpsummary and then pprof -f profile.Max/Min to see the data.                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_IBM\_BG\_HWP\_COUNTERS        | Set this variables to 1 to include IBM's UPC Hardware Performance counters in the metadata for process 0. Requires the use of MPI.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| TAU\_CUPTI\_API                    | Default: ``runtime``, options: ``runtime,driver,both``. Controls which layer of CUDA is tracked within the CUPTI measurement system. See for example: ``tau_exec -T                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|                                    |                                 serial,cupti -cupti ./matmult``. Option should be set basied on which layer the CUDA program uses—\ ``runtime`` when the program uses the CUDA runtime API, ``driver`` when the program uses the driver API. NOTE: Both the PGI accelerator and the HMPP compilers use the driver API.                                                                                                                                                                                                                                                                                                             |
+------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Table: TAU Environment Variables
